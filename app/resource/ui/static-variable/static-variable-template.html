<style>
  md-input-container {
    margin: 0px 0 !important
  }
</style>
<md-card md-theme-watch>
  <md-card-title>
    <md-card-title-text>
      <span class="md-headline">Recursos auxiliares</span>
      <span class="md-subhead">Aqui você pode adicionar uma nova variável que será apresentada durante o
        preenchimento</span>
    </md-card-title-text>
  </md-card-title>
  <md-card-content>
    <md-card md-theme-watch>
      <md-card-content>
        <p class="md-subhead">Qual é a nova variável?</p>
        <div layout="row" layout-align="start center">
          <md-input-container md-no-float class="md-block" flex="25">
            <input ng-model="$ctrl.variable.name" placeholder="Informe o nome da variável">
          </md-input-container>
          <md-input-container md-no-float class="md-block" flex="25">
            <input ng-model="$ctrl.variable.description" placeholder="Informe a descrição correspondente">
          </md-input-container>
        </div>
        <div layout="row" layout-align="start center">
          <p class="md-subhead">A nova variável é do último envio?</p>
          <div class="md-padding"></div>
          <md-radio-group ng-model="$ctrl.variable.lastSending" layout="row">
            <md-radio-button ng-value="true" ng-click="$ctrl.clearSendingFields()">Sim</md-radio-button>
            <md-radio-button ng-value="false">Não</md-radio-button>
          </md-radio-group>
        </div>
        <md-input-container ng-if="!$ctrl.isCurrentSending()" md-no-float class="md-block" flex="25">
          <input ng-model="$ctrl.variable.sending" placeholder="Informe o envio correspondente">
        </md-input-container>
        <div layout="row" layout-align="start center">
          <p class="md-subhead">Você deseja personalizar o resultado apresentado?</p>
          <div class="md-padding"></div>
          <md-radio-group ng-model="$ctrl.variable.customize" layout="row">
            <md-radio-button ng-value="true">Sim</md-radio-button>
            <md-radio-button ng-value="false" ng-click="$ctrl.clearCustomFields()">Não</md-radio-button>
          </md-radio-group>
        </div>
        <div ng-if="$ctrl.isCustomize()" layout="row" layout-align="start start">
          <md-input-container md-no-float class="md-block" flex="25">
            <input ng-model="$ctrl.customization.value" placeholder="Informe o valor">
          </md-input-container>
          <md-input-container md-no-float class="md-block" flex="25">
            <input ng-model="$ctrl.customization.label" placeholder="Informe a personalização">
          </md-input-container>
          <md-button ng-if="$ctrl.customization.value && $ctrl.customization.label" class="md-icon-button" aria-label="baixar template"
            ng-click="$ctrl.addCustom()">
            <md-icon md-font-library="material-icons" aria-label="baixar template" style="color:#448aff">check</md-icon>
            <md-tooltip md-direction="left">Adicionar</md-tooltip>
          </md-button>
        </div>
        <div ng-repeat="customization in $ctrl.variable.customizations track by $index" layout="row" layout-align="start start">
          <md-input-container class="md-block" flex="25">
            <label>{{customization.value}}</label>
            <input disabled>
          </md-input-container>
          <md-input-container class="md-block" flex="25">
            <label>{{customization.label}}</label>
            <input disabled>
          </md-input-container>
          <md-button class="md-icon-button" aria-label="baixar template" ng-click="$ctrl.removeCustom($index)">
            <md-icon md-font-library="material-icons" aria-label="baixar template" style="color:#f44336">cancel</md-icon>
            <md-tooltip md-direction="left">Remover</md-tooltip>
          </md-button>
        </div>
      </md-card-content>
      <md-card-actions layout="row" layout-align="end center">
        <md-button ng-click="$ctrl.cancel()" class="md-raised md-warn">Cancelar</md-button>
        <md-button ng-click="$ctrl.createVariable()" class="md-raised md-primary">Salvar</md-button>
      </md-card-actions>
    </md-card>
  </md-card-content>
  <md-card-title>
    <md-card-title-text>
      <span class="md-subhead">Variáveis sendo utilizadas no momento:</span>
    </md-card-title-text>
  </md-card-title>
  <md-card-content ng-if="!$ctrl.variablesListIsEmpty()">
    <md-card md-theme-watch>

      <md-grid-list md-cols="1" md-cols-sm="2" md-cols-md="3" md-cols-gt-md="6" md-row-height-gt-md="1:1" md-row-height="4:3"
        md-gutter="8px" md-gutter-gt-sm="4px" ng-repeat="variable in $ctrl.variablesList">
        <md-grid-tile md-colspan-sm="1" md-colspan-xs="1" ng-class="tile.background">
          <div layout="column">
            <md-grid-tile-footer>
              <h3>{{variable.name}}</h3>
            </md-grid-tile-footer>
            <md-grid-tile-footer>
              <h3>{{variable.sending}}</h3>
            </md-grid-tile-footer>
          </div>
        </md-grid-tile>
      </md-grid-list>

      <md-whiteframe class="md-whiteframe-1dp" flex-sm="45" flex-gt-sm="35" flex-gt-md="25" layout layout-align="center center">
        <span>.md-whiteframe-1dp</span>
      </md-whiteframe>


      <md-content ng-repeat="variable in $ctrl.variablesList">
        <div class="md-list-item-text" layout="row">
          <p flex="30">Nome da variável: {{ variable.name }}</p>
          <p flex="30">Envio correspondente: {{ variable.sending }}</p>
          <div>
            <div layout="row">
              <p> valor: {{ customization.valeu }}, personalização: {{ customization.label }}</p>
            </div>
          </div>
        </div>
        <div layout="row" layout-align="end center">
          <md-button class="md-icon-button" aria-label="baixar template" ng-click="$ctrl.addCustom()">
            <md-icon md-font-library="material-icons" aria-label="baixar template">close</md-icon>
            <md-tooltip md-direction="left">Adicionar</md-tooltip>
          </md-button>
          <md-button class="md-icon-button" aria-label="baixar template" ng-click="$ctrl.addCustom()">
            <md-icon md-font-library="material-icons" aria-label="baixar template">edit</md-icon>
            <md-tooltip md-direction="left">Adicionar</md-tooltip>
          </md-button>
        </div>
        <md-divider></md-divider>
      </md-content>
    </md-card>
  </md-card-content>
  <md-content layout="row" ng-if="$ctrl.variablesListIsEmpty()" flex layout-align="center center">
    <div class="md-list-item-text">
      <p>Atualmente não há variáveis auxiliares para esta atividade!</p>
    </div>
  </md-content>
</md-card>